<!DOCTYPE html>
<html>
  <head>
    <title>One</title>

    <% include include/game.ejs %>      
    
    <script>

      
      // Once user script is loaded, do whatever else needs to be done
      function userScriptLoaded() {
        
        var collisionEvent = module.tp$getattr('collisionEvent');
  
        playerHitObject (function () {
          if(collisionEvent) {
            Sk.misceval.callsim(collisionEvent);
          }
          return true
        });
        playerStepTaken (function () {})
      }        
      
      document.addEventListener('DOMContentLoaded', function() {
        importPythonGame();
        
        createRandomMaze(16, 8)
        
        // Load the user script file
        loadUserScript('/py/collision-event.py')              
      })
            
    </script>
    
  </head>
  <body>
    <div id="game"></div>
  </body>
</html>
